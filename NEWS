This file lists noteworthy changes in MooseFS.

* MooseFS 1.6.1 (2009-08-14)

 - Added 'mapall' option to exports
 - Added flags 'noattrcache' and 'noentrycache'
 - Rewritten "Writedata" module in mfsmount
 - Added source (read) limit to replications
 - Prefer localhost during some operations (reduce network usage)

* MooseFS 1.6.0 (not released - only available in public repository)

 Common:
 - Removed duplicate source files.
 - Strip whitespace at the end of configuration file lines.

 Chunkserver:
 - Rewritten in multi-threaded model.
 - Added periodical chunk testing functionality (HDD_TEST_FREQ option).
 - New -v option (prints version and exits).

 Master:
 - Added "noowner" objects flag (causes objects to belong to current user).
 - Maintaining `mfsdirinfo` data online, so it doesn't need to be calculated
   on every request.
 - Filesystem access authorization system (NFS-like mfsexports.cfg file,
   REJECT_OLD_CLIENTS option) with ro/rw, password and maproot
   functionality.
 - New -v option (prints version and exits).

 Mount:
 - Rewritten options parsing in mount-like way, making possible to use
   standard FUSE mount utilities (see mfsmount(8) manual for new syntax).
   Note: old syntax is no longer accepted and mountpoint is mandatory now
   (there is no default).
 - Updated for FUSE 2.6+.
 - Added password, file data cache, attribute cache and entry cache options.
   By default attribute cache and directory entry cache are enabled,
   file data cache and file entry cache are disabled.
 - opendir() no longer reads directory contents - it's done on first
   readdir() now; fixes "rm -r" on recent Linux/glibc/coreutils combo.
 - Fixed mtime setting just before close() (by flushing file on mtime
   change); fixes mtime preserving on "cp -p".
 - Added statistics accessible through MFSROOT/.stats pseudo-file.
 - Changed master access method for mfstools (direct .master pseudo-file
   replaced by .masterinfo redirection); fixes possible mfstools race
   condition and allows to use mfstools on read-only filesystem.

 Tools:
 - Units cleanup in values display (exact values, IEC-60027/binary prefixes,
   SI/decimal prefixes); new options: -n, -h, -H and MFSHRFORMAT environment
   variable - refer to mfstools(8) manual for details).
 - mfsrgetgoal, mfsrsetgoal, mfsrgettrashtime, mfsrsettrashtime have been
   deprecated in favour of new "-r" option for mfsgetgoal, mfssetgoal,
   mfsgettrashtime, mfssettrashtime tools.
 - mfssnapshot utility replaced by mfsappendchunks (direct descendant of
   old utility) and mfsmakesnapshot (which creates "real" recursive
   snapshots and behaves similar to "cp -r").
 - New mfsfilerepair utility, which allows partial recovery of file with
   some missing or broken chunks.

 CGI scripts:
 - First public version of CGI scripts allowing to monitor MFS installation
   from WWW browser.

* MooseFS 1.5.14

   Not released to public.

* MooseFS 1.5.13

   Not released to public.

* MooseFS 1.5.12 (2009-01-28)

 - Fixed CRC cache in chunkserver

* MooseFS 1.5.11 (2008-12-18)

 - Added CRC-block and file descriptor cache in chunkserver.
 - Removed compilation warnings on 64-bit machines.
 - Optimized chunkserver choice in mfsmount.
 - Better replication algorithm.

* MooseFS 1.5.10 (2008-12-03)

 - Fixed replication algorithm.

* MooseFS 1.5.9 (2008-11-19)

 - Improved rebalancing algorithm.
 - Protections against overriding metadata.mfs.back by older metadata.mfs.
 - Fixes to build mfstools, mfsmaster and mfsmetarestore with Large File
   Support on Linux (previously only mfsmount had LFS enabled).
 - Less verbose logging in mfsmaster.
 - Log chunkserver disconnections in mfsmaster.

* MooseFS 1.5.8 (2008-08-26)

 - Better memory allocation in Master's chunks module.
 - Syslog messages used only for debugging purposes were commented out.

* MooseFS 1.5.7 (2008-08-01)

 - Fix for stack buffer overrun (by 4 bytes) in mfsmount.

* MooseFS 1.5.6 (2008-07-25)

 - Memory allocation fix in mfsmaster.

* MooseFS 1.5.5 (2008-07-10)

 - Mounting options fix for FreeBSD in mfsmount.

* MooseFS 1.5.4 (2008-07-08)

 - Blocking rebalance replications when undergoal chunks exist.
 - Minor bugfixes.
 - Build system improvements.
 - MooseFS and mfsmount version numbers synchronized.

* MooseFS 1.5 (2008-05-30)

 - First version released as Open Source.
