.TH MFSMASTER "8" "February 2008" "MooseFS 1.5"
.SH NAME
mfsmaster \- start, restart or stop Moose File System master process
.SH SYNOPSIS
.B mfsmaster
[\fB\-f\fP]
[\fB\-c\fP \fICFGFILE\fP]
.PP
.B mfsmaster
[\fB\-s\fP]
[\fB\-c\fP \fICFGFILE\fP]
.SH DESCRIPTION
.PP
\fBmfsmaster\fP is the master program of Moose File System. Depending on
parameters it can start, restart or stop MFS master process. Without any
options it starts MFS master, killing previously run process if PID
file exists.
.TP
\fB\-f\fP
forcily run MFS master process, without trying to kill previous instance
(this option allows to run MFS master if stale PID file exists)
.TP
\fB\-s\fP
stop MFS master process
.TP
\fB\-c\fP \fICFGFILE\fP
specify alternative path of configuration file (default is
\fBmfsmaster.cfg\fP in system configuration directory)
.SH FILES
.TP
\fBmfsmaster.cfg\fP
configuration file for MFS master process
.TP
\fBguardian.log\fP
log file of MFS master guardian process
.TP
\fBmaster.pid\fP
PID file of running MFS master process
.TP
\fBmetadata.mfs\fP, \fBmetadata\.mfs\.back\fP
MFS filesystem metadata image
.TP
\fBchangelog.\fP*\fB.mfs\fP
MFS filesystem metadata change logs (merged into \fBmetadata.mfs\fP once per hour)
.TP
\fBdata.stats\fP
MFS master charts state
.SH CONFIGURATION
\fBmfsmaster.cfg\fP configuration options:
.TP
\fBWORKING_USER\fP
user to run daemon as
.TP
\fBWORKING_GROUP\fP
group to run daemon as
.TP
\fBLOCK_FILE\fP
daemon lock/pid file
.TP
\fBDATA_PATH\fP
where to store metadata files
.TP
\fBSYSLOG_IDENT\fP
name of process to place in syslog messages (default is mfsmaster)
.TP
\fBBACK_LOGS\fP
number of metadata change log files (default is 10)
.TP
\fBREPLICATIONS_DELAY_INIT\fP
initial delay in seconds before starting replications (default is 300)
.TP
\fBREPLICATIONS_DELAY_DISCONNECT\fP
replication delay in seconds after chunkserver disconnection (default is 7200)
.TP
\fBMATOCS_LISTEN_HOST\fP
IP address to listen on for chunkserver connections (\fB*\fP means any)
.TP
\fBMATOCS_LISTEN_PORT\fP
port to listen on for chunkserver connections (default is 9420)
.TP
\fBMATOCU_LISTEN_HOST\fP
IP address to listen on for client (mount) connections (\fB*\fP means any)
.TP
\fBMATOCU_LISTEN_PORT\fP
port to listen on for client (mount) connections (default is 9421)
.TP
\fBCHUNKS_LOOP_TIME\fP
Chunks loop frequency in seconds (default is 300)
.TP
\fBCHUNKS_DEL_LIMIT\fP
Maximum number of chunks to delete in one loop (default is 100)
.TP
\fBCHUNKS_REP_LIMIT\fP
Maximum number of chunks to replicate in one loop (default is 15)
.SH "REPORTING BUGS"
Report bugs to <bugs@moosefs.com>.
.SH COPYRIGHT
Copyright 2008 Gemius SA.

MooseFS is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, version 3.

MooseFS is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with MooseFS.  If not, see <http://www.gnu.org/licenses/>.
.SH "SEE ALSO"
.BR mfsmetarestore (8),
.BR mfschunkserver (8),
.BR mfsmount (8),
.BR moosefs (7)
